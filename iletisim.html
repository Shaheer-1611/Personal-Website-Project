<!-- 
    iletisim.html
    Purpose: Provides a contact form for users to reach out to Syed Shaheer Ahmed. Includes fields for name, email, phone, subject, contact method preference, and message. Used some styles here so that
    they don't disturb the layout of other pages.
    Key Features:
    - Bootstrap 5: For responsive layout, form styling (floating labels, inputs, select, checkboxes), buttons, and general UI. Edited according to need.
    - Font Awesome: For icons in the navigation, form header, and buttons.
    - Animate.css: For entry animation on the navigation bar.
    - Vue.js 3: For client-side form validation, data binding (v-model), conditional rendering (v-if), and dynamic class binding for validation states.
    - Custom JavaScript: For an alternative plain JavaScript validation function and Vue.js app setup.
    - Custom CSS (<style> block): For background image, navbar styling, contact form container styling (semi-transparent, border, shadow), and text color adjustments for readability against the background.
    - HTML Forms: Standard form elements (input, select, textarea, button) enhanced with Bootstrap and Vue.js.
    - LocalStorage: Used to temporarily store form data before redirecting to a success page.
-->
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Syed Shaheer Ahmed - İletişim</title>
    <!-- Favicon (Standard ICO format) -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <!-- Vue.js (for framework validation) -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3.2.47/dist/vue.global.min.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css">
    <style>
        body {
            background: url('images/contact.jpg') no-repeat center center fixed;
            background-size: cover;
        }
        .navbar {
            background-color: #000 !important;
        }
        .contact-form-container {
            background: rgba(13, 110, 253, 0.12);
            border: 2px solid #0d6efd;
            box-shadow: 0 0 24px #0d6efd33;
            border-radius: 18px;
        }
        .contact-form-container .form-header h2,
        .contact-form-container .form-header p {
            color: #fff !important;
        }
        .contact-form-container .form-label,
        .contact-form-container .form-floating label {
            color: #000 !important;
        }
        /* Keep checkboxes, contact method preference label, and form header white */
        .contact-form-container .form-check-label,
        .contact-form-container label.form-label {
            color: #fff !important;
        }
    </style>
  </head>
<body>
    <!-- Vue.js App Container -->
    <div id="app">
        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg navbar-dark sticky-top animate__animated animate__fadeInDown">
            <div class="container">
                <a class="navbar-brand" href="index.html">
                    <i class="fas fa-user-circle me-2"></i>Syed Shaheer Ahmed
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html"><i class="fas fa-home me-1"></i> Hakkında</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cv.html"><i class="fas fa-file-alt me-1"></i> Özgeçmiş</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="sehir.html"><i class="fas fa-city me-1"></i> Şehrim</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="mirasimiz.html"><i class="fas fa-university me-1"></i> Mirasımız</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="iligi-alanlarim.html"><i class="fas fa-file-alt me-1"></i> iligi-alanlarim</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="iletisim.html"><i class="fas fa-envelope me-1"></i> İletişim</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="login.html"><i class="fas fa-sign-in-alt me-1"></i> Giriş</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="container my-5">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="contact-form-container floating-form">
                        <!-- Form Header -->
                        <div class="form-header text-center">
                            <h2><i class="fas fa-paper-plane me-2"></i>İletişim Formu</h2>
                            <p>Bana ulaşmak için formu doldurun</p>
                        </div>
                        
                        <!-- Contact Form -->
                        <form id="contactForm" action="form-basarli.html" method="get" @submit.prevent="handleSubmit" class="p-4">
                            <!-- Name Field -->
                            <div class="mb-4">
                                <div class="form-floating">
                                    <input 
                                        type="text" 
                                        class="form-control" 
                                        id="name" 
                                        placeholder="Adınız"
                                        v-model="formData.name"
                                        :class="{ 'is-invalid': errors.name, 'is-valid': validated && !errors.name }"
                                        @blur="validateField('name')"
                                    >
                                    <label for="name">Adınız Soyadınız</label>
                                </div>
                                <div class="error-message" :class="{ 'show-error': errors.name }">
                                    {{ errors.name }}
                                </div>
                            </div>
                            
                            <!-- Email Field -->
                            <div class="mb-4">
                                <div class="form-floating">
                                    <input 
                                        type="email" 
                                        class="form-control" 
                                        id="email" 
                                        placeholder="E-posta"
                                        v-model="formData.email"
                                        :class="{ 'is-invalid': errors.email, 'is-valid': validated && !errors.email }"
                                        @blur="validateField('email')"
                                    >
                                    <label for="email">E-posta Adresiniz</label>
                                </div>
                                <div class="error-message" :class="{ 'show-error': errors.email }">
                                    {{ errors.email }}
                                </div>
                            </div>
                            
                            <!-- Phone Field -->
                            <div class="mb-4">
                                <div class="form-floating">
                                    <input 
                                        type="tel" 
                                        class="form-control" 
                                        id="phone" 
                                        placeholder="Telefon"
                                        v-model="formData.phone"
                                        :class="{ 'is-invalid': errors.phone, 'is-valid': validated && !errors.phone }"
                                        @blur="validateField('phone')"
                                    >
                                    <label for="phone">Telefon Numaranız</label>
                                </div>
                                <div class="error-message" :class="{ 'show-error': errors.phone }">
                                    {{ errors.phone }}
                                </div>
                            </div>
                            
                            <!-- Dropdown (Subject) -->
                            <div class="mb-4">
                                <div class="form-floating">
                                    <select 
                                        class="form-select" 
                                        id="subject"
                                        v-model="formData.subject"
                                        :class="{ 'is-invalid': errors.subject, 'is-valid': validated && !errors.subject }"
                                        @blur="validateField('subject')"
                                    >
                                        <option value="" disabled selected>Konu seçiniz</option>
                                        <option value="question">Sorular</option>
                                        <option value="feedback">Geri Bildirim</option>
                                        <option value="collaboration">İş Birliği</option>
                                        <option value="other">Diğer</option>
                                    </select>
                                    <label for="subject">Konu</label>
                                </div>
                                <div class="error-message" :class="{ 'show-error': errors.subject }">
                                    {{ errors.subject }}
                                </div>
                            </div>
                            
                            <!-- Checkbox (Contact Method) -->
                            <div class="mb-4">
                                <label class="form-label">Tercih Ettiğiniz İletişim Yöntemi:</label>
                                <div class="form-check">
                                    <input 
                                        class="form-check-input" 
                                        type="checkbox" 
                                        id="contactEmail"
                                        v-model="formData.contactMethods.email"
                                    >
                                    <label class="form-check-label" for="contactEmail">E-posta</label>
                                </div>
                                <div class="form-check">
                                    <input 
                                        class="form-check-input" 
                                        type="checkbox" 
                                        id="contactPhone"
                                        v-model="formData.contactMethods.phone"
                                    >
                                    <label class="form-check-label" for="contactPhone">Telefon</label>
                                </div>
                                <div class="error-message" :class="{ 'show-error': errors.contactMethods }">
                                    {{ errors.contactMethods }}
                                </div>
                            </div>
                            
                            <!-- Textarea (Message) -->
                            <div class="mb-4">
                                <div class="form-floating">
                                    <textarea 
                                        class="form-control" 
                                        id="message" 
                                        placeholder="Mesajınız"
                                        style="height: 150px"
                                        v-model="formData.message"
                                        :class="{ 'is-invalid': errors.message, 'is-valid': validated && !errors.message }"
                                        @blur="validateField('message')"
                                    ></textarea>
                                    <label for="message">Mesajınız</label>
                                </div>
                                <div class="error-message" :class="{ 'show-error': errors.message }">
                                    {{ errors.message }}
                                </div>
                            </div>
                            
                            <!-- Form Buttons -->
                            <div class="d-flex justify-content-between flex-wrap">
                                <!-- Clear Button -->
                                <button type="reset" class="btn btn-outline-secondary mb-2">
                                    <i class="fas fa-eraser me-1"></i>Temizle
                                </button>
                                
                                <!-- Validate Button (Plain JS) -->
                                <button 
                                    type="button" 
                                    class="btn btn-validate mb-2"
                                    @click="validateWithJS"
                                >
                                    <i class="fas fa-check-circle me-1"></i>JavaScript ile Doğrula
                                </button>
                                
                                <!-- Submit Button (Vue.js) -->
                                <button 
                                    type="submit" 
                                    class="btn btn-submit mb-2"
                                    :disabled="isSubmitting"
                                >
                                    <span v-if="!isSubmitting">
                                        <i class="fas fa-paper-plane me-1"></i>Gönder 
                                    </span>
                                    <span v-else>
                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                        Gönderiliyor...
                                    </span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="text-center py-4" style="background-color: rgba(0,0,0,0.8); color: white;">
            <div class="container">
                <div class="mb-3">
                    <a href="https://www.instagram.com/_lifeisposh._/?__pwa=1#" target="_blank" class="text-white mx-2"><i class="fab fa-instagram fa-lg"></i></a>
                <a href="https://mail.google.com/mail/u/0/#inbox" target="_blank" class="text-white mx-2"><i class="fas fa-envelope fa-lg"></i></a>
                <a href="https://www.linkedin.com/in/shaheer-ahmed-7359b2290/overlay/about-this-profile/?lipi=urn%3Ali%3Apage%3Ad_flagship3_profile_view_base%3BcgExK5fAQfOsoR01rQVUvw%3D%3D" target="_blank" class="text-white mx-2"><i class="fab fa-linkedin fa-lg"></i></a>
                <a href="https://github.com/account" target="_blank" class="text-white mx-2"><i class="fab fa-github fa-lg"></i></a>
                </div>
                <p>&copy; 2023 Syed Shaheer Ahmed - Tüm Hakları Saklıdır</p>
                <p>Sakarya Üniversitesi - Bilgisayar Mühendisliği</p>
            </div>
         </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script>
        // Plain JavaScript Validation
        function validateWithJS() {
            const form = document.getElementById('contactForm');
            let isValid = true;
            
            // Name validation
            const name = form.elements['name'].value.trim();
            if (!name) {
                alert('Lütfen adınızı giriniz!');
                isValid = false;
            }
            
            // Email validation
            const email = form.elements['email'].value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert('Lütfen geçerli bir e-posta adresi giriniz!');
                isValid = false;
            }
            
            // Phone validation
            const phone = form.elements['phone'].value.trim();
            const phoneRegex = /^[0-9]{10,15}$/;
            if (!phoneRegex.test(phone)) {
                alert('Lütfen geçerli bir telefon numarası giriniz (10-15 rakam)!');
                isValid = false;
            }
            
            // Subject validation
            const subject = form.elements['subject'].value;
            if (!subject) {
                alert('Lütfen bir konu seçiniz!');
                isValid = false;
            }
            
            // Message validation
            const message = form.elements['message'].value.trim();
            if (message.length < 10) {
                alert('Mesajınız en az 10 karakter olmalıdır!');
                isValid = false;
            }
            
            if (isValid) {
                alert('JavaScript doğrulaması başarılı! Form gönderilebilir.');
            }
            
            return isValid;
        }
        
        // Vue.js Application
        const { createApp } = Vue;
        
        createApp({
            data() {
                return {
                    formData: {
                        name: '',
                        email: '',
                        phone: '',
                        subject: '',
                        contactMethods: {
                            email: false,
                            phone: false
                        },
                        message: ''
                    },
                    errors: {
                        name: '',
                        email: '',
                        phone: '',
                        subject: '',
                        contactMethods: '',
                        message: ''
                    },
                    validated: false,
                    isSubmitting: false
                };
            },
            methods: {
                validateField(field) {
                    this.validated = true;
                    
                    switch(field) {
                        case 'name':
                            this.errors.name = this.formData.name.trim() ? '' : 'Bu alan zorunludur';
                            break;
                        case 'email':
                            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                            this.errors.email = emailRegex.test(this.formData.email) ? '' : 'Geçersiz e-posta formatı';
                            break;
                        case 'phone':
                            const phoneRegex = /^[0-9]{10,15}$/;
                            this.errors.phone = phoneRegex.test(this.formData.phone) ? '' : '10-15 rakam giriniz';
                            break;
                        case 'subject':
                            this.errors.subject = this.formData.subject ? '' : 'Lütfen bir konu seçiniz';
                            break;
                        case 'message':
                            this.errors.message = this.formData.message.trim().length >= 10 ? '' : 'En az 10 karakter giriniz';
                            break;
                    }
                },
                validateForm() {
                    this.validated = true;
                    let isValid = true;
                    
                    // Validate all fields
                    this.validateField('name');
                    this.validateField('email');
                    this.validateField('phone');
                    this.validateField('subject');
                    this.validateField('message');
                    
                    // Check contact methods
                    if (!this.formData.contactMethods.email && !this.formData.contactMethods.phone) {
                        this.errors.contactMethods = 'En az bir iletişim yöntemi seçiniz';
                        isValid = false;
                    } else {
                        this.errors.contactMethods = '';
                    }
                    
                    // Check if any errors exist
                    for (const error in this.errors) {
                        if (this.errors[error]) {
                            isValid = false;
                        }
                    }
                    
                    return isValid;
                },
                handleSubmit() {
                    if (this.validateForm()) {
                        this.isSubmitting = true;
                        
                        // Simulate API call
                        setTimeout(() => {
                            // In a real app, you would submit to a server here
                            console.log('Form submitted:', this.formData);
                            
                            // Store form data for the success page
                            localStorage.setItem('formData', JSON.stringify(this.formData));

                            //retrieves data
                            const formData = JSON.parse(localStorage.getItem('formData'))
                            
                            // Redirect to success page
                            window.location.href = 'form-basarli.html';
                            
                            this.isSubmitting = false;
                        }, 1500);
                    } else {
                        // Scroll to first error
                        const firstError = document.querySelector('.is-invalid');
                        if (firstError) {
                            firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }
                    }
                }
            }
        }).mount('#app');
    </script>
</body>
</html>